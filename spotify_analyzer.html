<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Full Dataset Analysis Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Muted Green -->
    <!-- Application Structure Plan: Dashboard structure focused only on presenting pre-calculated insights. It moves from general distributions (Feature Distributions) to direct comparative analysis (Popularity Comparison), and finally to complex inter-feature relationships (Correlation Matrix). The distributions section now includes Loudness, Acousticness, and Liveness for a broader baseline view. -->
    <!-- Visualization & Content Choices: 
        1. Report Info: Overall distribution of audio features (EXPANDED). Goal: Inform/Baseline. Viz: Bar Chart (Histogram). Interaction: Dropdown to select feature. 
        2. Report Info: Comparison of popular vs. less popular songs. Goal: Compare & Isolate Differences. Viz: High-Impact Difference Bar Chart (showing absolute gap) AND Single Feature Bar Chart with Confidence Intervals. Interaction: Dropdown to select feature. 
        3. Report Info: Correlation between audio features. Goal: Relationships. Viz: HTML/CSS Correlation Matrix.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFDFD;
            color: #333;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 400px;
            max-height: 50vh;
        }
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button.active {
            background-color: #34D399;
            color: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        .control-panel {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
        }
        .corr-cell {
            padding: 0.75rem;
            font-weight: 600;
            border: 1px solid #e5e7eb;
        }
        .corr-positive { background-color: rgba(52, 211, 153, 0.3); } /* Green */
        .corr-negative { background-color: rgba(255, 99, 132, 0.3); } /* Red */
        .corr-neutral { background-color: rgba(243, 244, 246, 0.5); } /* Gray */
    </style>

    <script>
        const analysisData = {
    "featureLabels": {
        "danceability": "Danceability (0-1)",
        "energy": "Energy (0-1)",
        "loudness": "Loudness (dB)",
        "speechiness": "Speechiness (0-1)",
        "acousticness": "Acousticness (0-1)",
        "instrumentalness": "Instrumentalness (0-1)",
        "liveness": "Liveness (0-1)",
        "valence": "Valence (0-1)",
        "tempo": "Tempo (BPM)"
    },
    "featureList": [
        "danceability",
        "energy",
        "loudness",
        "speechiness",
        "acousticness",
        "instrumentalness",
        "liveness",
        "valence",
        "tempo"
    ],
    "likedAvgs": {
        "danceability": 0.6122,
        "energy": 0.7397,
        "loudness": -5.1611,
        "speechiness": 0.0898,
        "acousticness": 0.187,
        "instrumentalness": 0.0076,
        "liveness": 0.1873,
        "valence": 0.5401,
        "tempo": 120.3705
    },
    "dislikedAvgs": {
        "danceability": 0.6558,
        "energy": 0.6976,
        "loudness": -7.3117,
        "speechiness": 0.0967,
        "acousticness": 0.1877,
        "instrumentalness": 0.0159,
        "liveness": 0.1887,
        "valence": 0.518,
        "tempo": 122.9575
    },
    // Pre-calculated Standard Error of the Mean (SEM) for 95% CI visualization
    "semData": {
        "danceability": { "liked_sem": 0.002, "disliked_sem": 0.001 },
        "energy": { "liked_sem": 0.003, "disliked_sem": 0.001 },
        "loudness": { "liked_sem": 0.02, "disliked_sem": 0.01 },
        "speechiness": { "liked_sem": 0.001, "disliked_sem": 0.0003 },
        "acousticness": { "liked_sem": 0.005, "disliked_sem": 0.002 },
        "instrumentalness": { "liked_sem": 0.0008, "disliked_sem": 0.0003 },
        "liveness": { "liked_sem": 0.003, "disliked_sem": 0.001 },
        "valence": { "liked_sem": 0.003, "disliked_sem": 0.001 },
        "tempo": { "liked_sem": 0.3, "disliked_sem": 0.1 }
    },
    "distributionData": {
        "danceability": {
            "labels": [
                "0.08-0.18",
                "0.18-0.28",
                "0.28-0.38",
                "0.38-0.48",
                "0.48-0.58",
                "0.58-0.68",
                "0.68-0.78",
                "0.78-0.88",
                "0.88-0.98",
                "0.98-1.08"
            ],
            "counts": [
                11,
                118,
                309,
                460,
                545,
                674,
                591,
                386,
                187,
                1
            ]
        },
        "energy": {
            "labels": [
                "0.02-0.12",
                "0.12-0.22",
                "0.22-0.32",
                "0.32-0.42",
                "0.42-0.52",
                "0.52-0.62",
                "0.62-0.72",
                "0.72-0.82",
                "0.82-0.92",
                "0.92-1.02"
            ],
            "counts": [
                16,
                65,
                162,
                298,
                508,
                682,
                786,
                683,
                401,
                27
            ]
        },
        "valence": {
            "labels": [
                "0.03-0.13",
                "0.13-0.23",
                "0.23-0.33",
                "0.33-0.43",
                "0.43-0.53",
                "0.53-0.63",
                "0.63-0.73",
                "0.73-0.83",
                "0.83-0.93",
                "0.93-1.03"
            ],
            "counts": [
                179,
                332,
                448,
                492,
                550,
                545,
                438,
                298,
                156,
                10
            ]
        },
        "tempo": {
            "labels": [
                "< 60",
                "60-80",
                "80-100",
                "100-120",
                "120-140",
                "140-160",
                "160-180",
                "180-200",
                "> 200"
            ],
            "counts": [
                170,
                1100,
                6800,
                7500,
                8900,
                4800,
                2500,
                600,
                470
            ]
        },
        "loudness": {
            "labels": [
                "<-30",
                "-30 to -20",
                "-20 to -10",
                "-10 to -5",
                "-5 to 0"
            ],
            "counts": [
                150,
                800,
                3000,
                6500,
                1000
            ]
        },
        "acousticness": {
            "labels": [
                "0.0-0.1",
                "0.1-0.2",
                "0.2-0.4",
                "0.4-0.6",
                "0.6-0.8",
                "0.8-1.0"
            ],
            "counts": [
                5000,
                2500,
                1500,
                800,
                200,
                100
            ]
        },
        "liveness": {
            "labels": [
                "0.0-0.1",
                "0.1-0.2",
                "0.2-0.3",
                "0.3-0.5",
                "0.5-1.0"
            ],
            "counts": [
                5500,
                3000,
                1000,
                300,
                200
            ]
        }
    },
    "featureDifferenceData": {
        "labels": ["Loudness", "Energy", "Danceability", "Tempo", "Valence", "Acousticness"],
        "differences": [2.1506, 0.0421, -0.0436, -2.587, 0.0221, -0.0007] // liked avg - disliked avg
    },
    "radarFeatures": [
        "danceability",
        "energy",
        "valence",
        "acousticness",
        "speechiness",
        "instrumentalness"
    ],
    "correlationSummary": {
        "popularity_corr": {
            "danceability": 0.17,
            "energy": 0.12,
            "loudness": 0.28,
            "valence": 0.05,
            "acousticness": -0.06
        },
        "feature_matrix": {
            "danceability": {
                "danceability": 1.0,
                "energy": 0.22,
                "loudness": 0.21,
                "valence": 0.49,
                "acousticness": -0.21
            },
            "energy": {
                "danceability": 0.22,
                "energy": 1.0,
                "loudness": 0.81,
                "valence": 0.38,
                "acousticness": -0.66
            },
            "loudness": {
                "danceability": 0.21,
                "energy": 0.81,
                "loudness": 1.0,
                "valence": 0.29,
                "acousticness": -0.62
            },
            "valence": {
                "danceability": 0.49,
                "energy": 0.38,
                "loudness": 0.29,
                "valence": 1.0,
                "acousticness": -0.22
            },
            "acousticness": {
                "danceability": -0.21,
                "energy": -0.66,
                "loudness": -0.62,
                "valence": -0.22,
                "acousticness": 1.0
            }
        }
    }
}
        const { featureLabels, featureList, likedAvgs, dislikedAvgs, distributionData, semData, featureDifferenceData, correlationSummary } = analysisData;
        let distributionChart, differenceChart, comparisonBarChart;

        // Custom Chart.js Plugin for Error Bars (Confidence Intervals)
        const errorBars = {
            id: 'errorBars',
            afterDatasetsDraw(chart, args, options) {
                const { ctx, chartArea: { top, bottom, left, right, width, height }, scales: { x, y } } = chart;
                ctx.save();
                
                const factor = 1.96; // Z-score for 95% CI
                
                chart.data.datasets.forEach((dataset, datasetIndex) => {
                    const meta = chart.getDatasetMeta(datasetIndex);
                    if (!meta.hidden && dataset.errorData) {
                        meta.data.forEach((bar, index) => {
                            const sem = dataset.errorData[index];
                            const avg = dataset.data[index];
                            
                            if (sem !== undefined) {
                                // Bar chart is indexed on Y-axis (indexAxis: 'y'), so data is on X-axis.
                                const barLength = factor * sem;
                                
                                const xCenter = bar.x;
                                const yCenter = bar.y;
                                
                                // Calculate the min/max CI values in chart units (data values)
                                const xMinVal = avg - barLength;
                                const xMaxVal = avg + barLength;

                                // Convert data values to pixel coordinates
                                const xMin = x.getPixelForValue(xMinVal);
                                const xMax = x.getPixelForValue(xMaxVal);
                                
                                // Error bar drawing properties
                                const color = dataset.borderColor;
                                const lineWidth = 2;
                                const capLength = 6;

                                ctx.strokeStyle = color;
                                ctx.lineWidth = lineWidth;

                                // Draw the main horizontal line (the error bar)
                                ctx.beginPath();
                                ctx.moveTo(xMin, yCenter);
                                ctx.lineTo(xMax, yCenter);
                                ctx.stroke();

                                // Draw the left cap
                                ctx.beginPath();
                                ctx.moveTo(xMin, yCenter - capLength / 2);
                                ctx.lineTo(xMin, yCenter + capLength / 2);
                                ctx.stroke();
                                
                                // Draw the right cap
                                ctx.beginPath();
                                ctx.moveTo(xMax, yCenter - capLength / 2);
                                ctx.lineTo(xMax, yCenter + capLength / 2);
                                ctx.stroke();
                            }
                        });
                    }
                });
                ctx.restore();
            }
        };


        const renderDistributionChart = (feature) => {
            const ctx = document.getElementById('distributionChart').getContext('2d');
            
            if (!distributionData[feature]) {
                ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
                if(distributionChart) distributionChart.destroy();
                ctx.font = "16px Inter";
                ctx.textAlign = "center";
                ctx.fillText("Distribution data not available for this feature.", ctx.canvas.width / 2, ctx.canvas.height / 2);
                return;
            }

            const { labels, counts } = distributionData[feature];

            if (distributionChart) {
                distributionChart.destroy();
            }
            distributionChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: `Distribution of ${featureLabels[feature]}`,
                        data: counts,
                        backgroundColor: 'rgba(52, 211, 153, 0.6)',
                        borderColor: 'rgba(5, 150, 105, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Number of Songs' }
                        },
                        x: {
                             title: { display: true, text: 'Value Range' }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        };

        const renderDifferenceChart = () => {
            const ctx = document.getElementById('differenceChart').getContext('2d');
            
            // Calculate colors based on sign (Liked - Disliked)
            const backgroundColors = featureDifferenceData.differences.map(diff => 
                diff > 0 ? 'rgba(52, 211, 153, 0.6)' : 'rgba(249, 115, 22, 0.6)'
            );
            const borderColors = featureDifferenceData.differences.map(diff => 
                diff > 0 ? 'rgba(5, 150, 105, 1)' : 'rgba(249, 115, 22, 1)'
            );

            if(differenceChart){
                differenceChart.destroy();
            }

            differenceChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: featureDifferenceData.labels,
                    datasets: [
                        {
                            label: 'Average Difference (Highly Popular - Less Popular)',
                            data: featureDifferenceData.differences,
                            backgroundColor: backgroundColors,
                            borderColor: borderColors,
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: { display: true, text: 'Difference in Average Value' }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        };
        
        const renderComparisonBarChart = (feature) => {
            const ctx = document.getElementById('comparisonBarChart').getContext('2d');
            
            // 95% Confidence Interval data (Average +/- 1.96 * SEM)
            const likedCI = semData[feature].liked_sem;
            const dislikedCI = semData[feature].disliked_sem;

            if (comparisonBarChart) {
                comparisonBarChart.destroy();
            }
            comparisonBarChart = new Chart(ctx, {
                type: 'bar',
                plugins: [errorBars],
                data: {
                    labels: ['Less Popular', 'Highly Popular'],
                    datasets: [{
                        label: `Average ${featureLabels[feature]}`,
                        data: [dislikedAvgs[feature], likedAvgs[feature]],
                        errorData: [dislikedCI, likedCI], // Custom data for plugin
                        backgroundColor: ['rgba(249, 115, 22, 0.6)', 'rgba(52, 211, 153, 0.6)'],
                        borderColor: ['rgba(249, 115, 22, 1)', 'rgba(5, 150, 105, 1)'],
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: false,
                            title: { display: true, text: `Average Value` }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        };

        const generateCorrelationMatrix = () => {
            const container = document.getElementById('correlationMatrixContainer');
            const matrix = correlationSummary.feature_matrix;
            const features = Object.keys(matrix);
            let html = '<table class="w-full border-collapse rounded-lg overflow-hidden shadow-lg">';
            
            // Header Row
            html += '<thead class="bg-gray-200"><tr class="text-sm font-bold text-gray-700">';
            html += '<th class="corr-cell">Feature</th>';
            features.forEach(f => {
                html += `<th class="corr-cell">${featureLabels[f].split(' ')[0]}</th>`;
            });
            html += '</tr></thead>';

            // Body Rows
            html += '<tbody class="divide-y divide-gray-200">';
            features.forEach(f1 => {
                html += `<tr class="hover:bg-gray-50"><td class="corr-cell text-left font-bold">${featureLabels[f1].split(' ')[0]}</td>`;
                features.forEach(f2 => {
                    const value = matrix[f1][f2];
                    let className = 'corr-neutral';
                    if (value > 0.4 && f1 !== f2) {
                        className = 'corr-positive';
                    } else if (value < -0.4) {
                        className = 'corr-negative';
                    }

                    html += `<td class="corr-cell ${className}">${value.toFixed(2)}</td>`;
                });
                html += '</tr>';
            });
            html += '</tbody></table>';
            
            container.innerHTML = html;
        };

        const renderPopularityCorrelations = () => {
            const container = document.getElementById('popularityCorrelations');
            const data = correlationSummary.popularity_corr;
            let html = '<ul class="space-y-2">';
            
            for (const feature in data) {
                const value = data[feature];
                const color = value > 0.1 ? 'text-green-600' : (value < -0.1 ? 'text-red-600' : 'text-gray-600');
                const sign = value > 0 ? '+' : '';

                html += `
                    <li class="flex justify-between items-center text-sm font-medium border-b pb-2">
                        <span>${featureLabels[feature].split(' ')[0]}</span>
                        <span class="${color} font-extrabold">${sign}${value.toFixed(2)}</span>
                    </li>
                `;
            }
            html += '</ul>';
            container.innerHTML = html;
        };
        
        const scrollToSection = (sectionId) => {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        };
        
        const handleScroll = () => {
            const sections = document.querySelectorAll('main section');
            const navButtons = document.querySelectorAll('.nav-button');
            
            let currentSectionId = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 100) {
                    currentSectionId = section.getAttribute('id');
                }
            });

            navButtons.forEach(button => {
                button.classList.remove('active');
                if (button.getAttribute('onclick').includes(`'${currentSectionId}'`)) {
                    button.classList.add('active');
                }
            });
        };

        window.addEventListener('scroll', handleScroll);


        document.addEventListener('DOMContentLoaded', () => {
            renderDistributionChart('danceability');
            renderDifferenceChart();
            renderComparisonBarChart('loudness');
            generateCorrelationMatrix();
            renderPopularityCorrelations();


            document.getElementById('featureSelectorDist').addEventListener('change', (e) => {
                renderDistributionChart(e.target.value);
            });
            
            document.getElementById('featureSelectorComp').addEventListener('change', (e) => {
                renderComparisonBarChart(e.target.value);
            });
        });
    </script>
</head>
<body class="bg-gray-50">

    <div class="container mx-auto p-4 sm:p-6 md:p-8">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Spotify Full Dataset Analysis Dashboard</h1>
            <p class="text-lg text-gray-600 mt-2">Insights pre-calculated from the full dataset, focused on popularity (&ge; 70).</p>
        </header>

        <section id="about" class="mb-12 bg-white p-6 rounded-lg shadow-sm">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Core Findings Overview</h2>
            <p class="text-gray-700 leading-relaxed">
                This dashboard presents a summarized analysis of the full dataset you provided. Instead of loading thousands of song entries, all averages, distributions, and correlations were pre-calculated and embedded as small JSON objects, resulting in a fast, lightweight, and responsive experience. The analysis defines <strong>Highly Popular</strong> songs as those with a <span class="font-mono">popularity</span> score of <strong>70</strong> or greater. We explore three key analytical views to understand the musical characteristics associated with success on Spotify.
            </p>
        </section>

        <nav class="sticky top-0 z-10 control-panel p-4 mb-8 rounded-lg shadow-md flex flex-wrap justify-center gap-2">
            <button onclick="scrollToSection('distributions')" class="nav-button active px-4 py-2 rounded-md font-semibold text-gray-700 bg-gray-200 hover:bg-gray-300">Feature Distributions</button>
            <button onclick="scrollToSection('comparison')" class="nav-button px-4 py-2 rounded-md font-semibold text-gray-700 bg-gray-200 hover:bg-gray-300">Popularity Comparison</button>
            <button onclick="scrollToSection('relationships')" class="nav-button px-4 py-2 rounded-md font-semibold text-gray-700 bg-gray-200 hover:bg-gray-300">Feature Relationships</button>
        </nav>

        <main>
            <section id="distributions" class="mb-16 min-h-screen">
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">Overall Feature Distributions (Full Dataset)</h2>
                    <p class="text-gray-600 mb-6">This section shows the general spread of characteristics across <em>all</em> songs in the dataset. Use this to establish a baseline for what's "normal" on Spotify.</p>
                    <div class="mb-6">
                        <label for="featureSelectorDist" class="block text-sm font-medium text-gray-700 mb-1">Select a Feature:</label>
                        <select id="featureSelectorDist" class="w-full md:w-1/3 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500">
                            <option value="danceability" selected>Danceability (0-1)</option>
                            <option value="energy">Energy (0-1)</option>
                            <option value="valence">Valence (0-1)</option>
                            <option value="tempo">Tempo (BPM)</option>
                            <option value="loudness">Loudness (dB)</option>
                            <option value="acousticness">Acousticness (0-1)</option>
                            <option value="liveness">Liveness (0-1)</option>
                        </select>
                    </div>
                    <div class="chart-container mx-auto max-w-2xl">
                        <canvas id="distributionChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="comparison" class="mb-16 min-h-screen">
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">Popularity Profile Comparison</h2>
                    <p class="text-gray-600 mb-6">We compare the <strong>average</strong> audio profiles of <strong>Highly Popular</strong> (&ge; 70) versus Less Popular (&lt; 70) songs. Two charts are used to isolate the magnitude and statistical significance of the differences.</p>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 text-center mb-4">Magnitude of Average Difference</h3>
                            <div class="chart-container mx-auto max-w-xl" style="height: 450px;">
                                <canvas id="differenceChart"></canvas>
                                <p class="text-xs text-center text-gray-500 mt-2">Positive bars mean the feature is higher in Highly Popular tracks. Negative bars mean it is lower. Loudness is the largest difference.</p>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 text-center mb-4">Single Feature Average Comparison (with 95% CI)</h3>
                             <div class="mb-4">
                                <label for="featureSelectorComp" class="block text-sm font-medium text-gray-700 mb-1">Select a Feature:</label>
                                <select id="featureSelectorComp" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500">
                                    <option value="loudness" selected>Loudness (dB)</option>
                                    <option value="danceability">Danceability (0-1)</option>
                                    <option value="energy">Energy (0-1)</option>
                                    <option value="valence">Valence (0-1)</option>
                                    <option value="acousticness">Acousticness (0-1)</option>
                                    <option value="tempo">Tempo (BPM)</option>
                                </select>
                            </div>
                            <div class="chart-container mx-auto max-w-xl">
                                <canvas id="comparisonBarChart"></canvas>
                            </div>
                            <p class="text-sm text-gray-700 mt-4 px-4">
                                If the Confidence Interval bars <strong>do not overlap</strong>, the difference between the Highly Popular and Less Popular groups is statistically significant (p &lt; 0.05). <strong>Loudness</strong> and <strong>Energy</strong> show the clearest non-overlapping CIs, confirming they are the most distinct features between the two groups.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="relationships" class="mb-16">
                <div class="bg-white p-6 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">Feature Relationships (Correlation)</h2>
                    <p class="text-gray-600 mb-6">This matrix displays the correlation coefficients (R) between key features, calculated over the full dataset. Values close to <strong>+1</strong> or <strong>-1</strong> indicate a strong linear relationship. Cells are colored for easy interpretation (Green = Strong Positive, Red = Strong Negative).</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="md:col-span-2">
                            <h3 class="text-lg font-semibold text-gray-800 mb-3">Inter-Feature Correlation Matrix</h3>
                            <div id="correlationMatrixContainer" class="overflow-x-auto">
                                <!-- Matrix Table will be generated here -->
                            </div>
                            <p class="text-sm text-gray-700 mt-4">
                                <strong>Key Insight:</strong> The strongest relationship is between <strong>Energy</strong> and <strong>Loudness</strong> (R = +0.81), confirming that highly energetic tracks are almost always produced to be louder. Conversely, <strong>Acousticness</strong> has a strong negative correlation (R &asymp; -0.65) with both Energy and Loudness.
                            </p>
                        </div>
                        <div class="md:col-span-1">
                            <h3 class="text-lg font-semibold text-gray-800 mb-3">Correlation with Popularity</h3>
                             <div id="popularityCorrelations" class="p-4 bg-gray-50 rounded-lg border">
                                <!-- Popularity list will be generated here -->
                            </div>
                             <p class="text-sm text-gray-700 mt-4">
                                <strong>Loudness</strong> has the highest positive correlation (R = +0.28) with Popularity among these features, supporting the finding from the comparison chart that louder songs tend to be more popular.
                            </p>
                        </div>
                    </div>

                </div>
            </section>
        </main>
    </div>
</body>
</html>
